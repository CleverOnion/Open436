# ğŸš€ å¿«é€Ÿå¼€å§‹ - 3åˆ†é’Ÿå¯åŠ¨é¡¹ç›®

## âœ… ä½ å·²ç»æ‹¥æœ‰çš„

æ­å–œï¼ä½ çš„é¡¹ç›®ç»“æ„å·²ç»å®Œå…¨æ­å»ºå¥½äº†ï¼š

```
âœ… é…ç½®æ–‡ä»¶
  â”œâ”€â”€ Dockerfile              (Dockeré•œåƒé…ç½®)
  â”œâ”€â”€ docker-compose.yml      (æœåŠ¡ç¼–æ’)
  â”œâ”€â”€ requirements.txt        (Pythonä¾èµ–)
  â””â”€â”€ .gitignore             (Gitå¿½ç•¥è§„åˆ™)

âœ… æºä»£ç 
  â”œâ”€â”€ src/config.py          (åº”ç”¨é…ç½®)
  â”œâ”€â”€ src/app/main.py        (FastAPIå…¥å£)
  â”œâ”€â”€ src/app/models/        (æ•°æ®æ¨¡å‹ - 3ä¸ªæ–‡ä»¶)
  â”œâ”€â”€ src/app/routes/        (APIè·¯ç”±)
  â”œâ”€â”€ src/app/services/      (ä¸šåŠ¡é€»è¾‘)
  â””â”€â”€ src/app/utils/         (å·¥å…·å‡½æ•°)

âœ… æµ‹è¯•ä»£ç 
  â”œâ”€â”€ src/tests/conftest.py  (æµ‹è¯•é…ç½®)
  â”œâ”€â”€ src/tests/test_sections.py
  â””â”€â”€ src/tests/test_service.py

âœ… æ•°æ®åº“
  â””â”€â”€ db-init/V1__create_sections_table.sql

âœ… æ–‡æ¡£
  â”œâ”€â”€ README.md              (é¡¹ç›®è¯´æ˜)
  â””â”€â”€ docs/å¼€å‘æŒ‡å—-ä½¿ç”¨Cursorå®Œæ•´å¼€å‘æµç¨‹.md
```

---

## ğŸ“‹ ç°åœ¨å¼€å§‹ - ä¸‰æ­¥èµ°

### ğŸ¯ ç¬¬ä¸€æ­¥ï¼šå¯åŠ¨é¡¹ç›®ï¼ˆ2åˆ†é’Ÿï¼‰

**Windowsç”¨æˆ·ï¼š**
```bash
# åŒå‡»è¿è¡Œ
start.bat
```

**Mac/Linuxç”¨æˆ·ï¼š**
```bash
# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x start.sh

# è¿è¡Œå¯åŠ¨è„šæœ¬
./start.sh
```

**æˆ–è€…æ‰‹åŠ¨å¯åŠ¨ï¼š**
```bash
# 1. å¯åŠ¨DockeræœåŠ¡
docker-compose up -d

# 2. æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f
```

### ğŸ¯ ç¬¬äºŒæ­¥ï¼šæµ‹è¯•APIï¼ˆ1åˆ†é’Ÿï¼‰

æ‰“å¼€æµè§ˆå™¨è®¿é—®ï¼š

**ğŸ“š APIäº¤äº’æ–‡æ¡£ï¼ˆæ¨èï¼‰**
```
http://localhost:8005/docs
```
åœ¨è¿™é‡Œä½ å¯ä»¥ï¼š
- æŸ¥çœ‹æ‰€æœ‰APIæ¥å£
- ç›´æ¥åœ¨ç½‘é¡µä¸Šæµ‹è¯•API
- æŸ¥çœ‹è¯·æ±‚/å“åº”æ ¼å¼

**ğŸ¥ å¥åº·æ£€æŸ¥**
```
http://localhost:8005/health
```

**ğŸ“‹ è·å–æ¿å—åˆ—è¡¨**
```
http://localhost:8005/api/v1/sections/
```

### ğŸ¯ ç¬¬ä¸‰æ­¥ï¼šåˆ›å»ºç¬¬ä¸€ä¸ªæ¿å—

**æ–¹å¼1ï¼šä½¿ç”¨Swagger UIï¼ˆæœ€ç®€å•ï¼‰**

1. è®¿é—® http://localhost:8005/docs
2. æ‰¾åˆ° `POST /api/v1/sections/` æ¥å£
3. ç‚¹å‡» "Try it out"
4. å¡«å…¥æ•°æ®ï¼š
```json
{
  "slug": "tech",
  "name": "æŠ€æœ¯äº¤æµ",
  "description": "åˆ†äº«ç¼–ç¨‹æŠ€æœ¯å’Œå¼€å‘ç»éªŒ",
  "color": "#1976D2",
  "sort_order": 1
}
```
5. ç‚¹å‡» "Execute"
6. æŸ¥çœ‹å“åº”ç»“æœ

**æ–¹å¼2ï¼šä½¿ç”¨curlå‘½ä»¤**

```bash
curl -X POST "http://localhost:8005/api/v1/sections/" \
  -H "Content-Type: application/json" \
  -d '{
    "slug": "tech",
    "name": "æŠ€æœ¯äº¤æµ",
    "description": "åˆ†äº«ç¼–ç¨‹æŠ€æœ¯å’Œå¼€å‘ç»éªŒ",
    "color": "#1976D2",
    "sort_order": 1
  }'
```

---

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### Dockerç®¡ç†

```bash
# æŸ¥çœ‹è¿è¡ŒçŠ¶æ€
docker-compose ps

# æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f section-service

# é‡å¯æœåŠ¡
docker-compose restart section-service

# åœæ­¢æœåŠ¡
docker-compose down

# åœæ­¢å¹¶åˆ é™¤æ•°æ®
docker-compose down -v

# é‡æ–°æ„å»º
docker-compose build --no-cache
docker-compose up -d
```

### æ•°æ®åº“ç®¡ç†

```bash
# è¿›å…¥æ•°æ®åº“
docker exec -it section-service-db psql -U open436 -d open436

# åœ¨æ•°æ®åº“ä¸­æ‰§è¡Œï¼š
\dt                          # æŸ¥çœ‹æ‰€æœ‰è¡¨
SELECT * FROM sections;      # æŸ¥çœ‹æ¿å—æ•°æ®
\d sections                  # æŸ¥çœ‹è¡¨ç»“æ„
\q                          # é€€å‡º
```

### è¿è¡Œæµ‹è¯•

```bash
# å®‰è£…ä¾èµ–ï¼ˆé¦–æ¬¡ï¼‰
pip install -r requirements.txt

# è¿è¡Œæ‰€æœ‰æµ‹è¯•
pytest

# è¿è¡Œç‰¹å®šæµ‹è¯•
pytest src/tests/test_sections.py -v

# æŸ¥çœ‹æµ‹è¯•è¦†ç›–ç‡
pytest --cov=src --cov-report=html
```

---

## ğŸ“– å®Œæ•´APIåˆ—è¡¨

| æ–¹æ³• | è·¯å¾„ | åŠŸèƒ½ | çŠ¶æ€ |
|------|------|------|------|
| GET | `/api/v1/sections/` | è·å–æ¿å—åˆ—è¡¨ | âœ… |
| GET | `/api/v1/sections/{id}` | è·å–æ¿å—è¯¦æƒ… | âœ… |
| GET | `/api/v1/sections/slug/{slug}` | é€šè¿‡slugè·å–æ¿å— | âœ… |
| POST | `/api/v1/sections/` | åˆ›å»ºæ¿å— | âœ… |
| PUT | `/api/v1/sections/{id}` | æ›´æ–°æ¿å— | âœ… |
| DELETE | `/api/v1/sections/{id}` | åˆ é™¤æ¿å— | âœ… |
| PATCH | `/api/v1/sections/{id}/toggle` | åˆ‡æ¢å¯ç”¨çŠ¶æ€ | âœ… |

---

## ğŸ“ å­¦ä¹ èµ„æº

### é¡¹ç›®æ–‡æ¡£

1. **README.md** - é¡¹ç›®æ€»è§ˆ
2. **docs/å¼€å‘æŒ‡å—-ä½¿ç”¨Cursorå®Œæ•´å¼€å‘æµç¨‹.md** - è¯¦ç»†å¼€å‘æ­¥éª¤
3. **docs/PRD/M5-æ¿å—ç®¡ç†æ¨¡å—.md** - äº§å“éœ€æ±‚æ–‡æ¡£
4. **docs/TDD/M5-æ¿å—ç®¡ç†æœåŠ¡/01-æ•°æ®åº“è®¾è®¡.md** - æ•°æ®åº“è®¾è®¡

### åœ¨çº¿æ–‡æ¡£

- FastAPIå®˜æ–¹æ–‡æ¡£: https://fastapi.tiangolo.com/zh/
- SQLAlchemyæ–‡æ¡£: https://docs.sqlalchemy.org/
- Pydanticæ–‡æ¡£: https://docs.pydantic.dev/
- Dockeræ–‡æ¡£: https://docs.docker.com/

---

## ğŸ’¡ ä¸‹ä¸€æ­¥è¯¥åšä»€ä¹ˆï¼Ÿ

### é€‰é¡¹1ï¼šç†Ÿæ‚‰ç°æœ‰ä»£ç ï¼ˆæ¨èæ–°æ‰‹ï¼‰

1. **é˜…è¯»ä»£ç **
   - ä» `src/app/main.py` å¼€å§‹
   - ç†è§£ FastAPI çš„è·¯ç”±æœºåˆ¶
   - æŸ¥çœ‹æ•°æ®æ¨¡å‹å®šä¹‰

2. **ä¿®æ”¹ä»£ç **
   - ä¿®æ”¹æ¿å—é¢œè‰²é€‰é¡¹
   - æ·»åŠ æ–°çš„éªŒè¯è§„åˆ™
   - è°ƒæ•´è¿”å›æ•°æ®æ ¼å¼

3. **è¿è¡Œæµ‹è¯•**
   - ç†è§£æµ‹è¯•æ˜¯å¦‚ä½•å·¥ä½œçš„
   - ä¿®æ”¹æµ‹è¯•ç”¨ä¾‹
   - æ·»åŠ æ–°çš„æµ‹è¯•

### é€‰é¡¹2ï¼šæ·»åŠ æ–°åŠŸèƒ½

**ç®€å•åŠŸèƒ½ï¼ˆé€‚åˆç»ƒæ‰‹ï¼‰ï¼š**
- [ ] æ·»åŠ æ¿å—ç‚¹èµåŠŸèƒ½
- [ ] æ·»åŠ æ¿å—æµè§ˆæ¬¡æ•°ç»Ÿè®¡
- [ ] æ·»åŠ æ¿å—æ ‡ç­¾åŠŸèƒ½

**ä¸­ç­‰åŠŸèƒ½ï¼š**
- [ ] å®ç°æ¿å—å›¾æ ‡ä¸Šä¼ ï¼ˆå¯¹æ¥M7æ–‡ä»¶æœåŠ¡ï¼‰
- [ ] æ·»åŠ æ¿å—ç®¡ç†å‘˜æƒé™
- [ ] å®ç°æ¿å—æœç´¢åŠŸèƒ½

**å¤æ‚åŠŸèƒ½ï¼š**
- [ ] å®ç°æ¿å—åˆ†ç»„åŠŸèƒ½
- [ ] æ·»åŠ æ¿å—è®¿é—®æƒé™æ§åˆ¶
- [ ] å®ç°æ¿å—å®¡æ ¸æµç¨‹

### é€‰é¡¹3ï¼šå¯¹æ¥å…¶ä»–æ¨¡å—

- [ ] ä¸M1ç”¨æˆ·æœåŠ¡å¯¹æ¥ï¼ˆå®ç°ç®¡ç†å‘˜éªŒè¯ï¼‰
- [ ] ä¸M3å†…å®¹æœåŠ¡å¯¹æ¥ï¼ˆç®¡ç†æ¿å—ä¸‹çš„å¸–å­ï¼‰
- [ ] ä¸M7æ–‡ä»¶æœåŠ¡å¯¹æ¥ï¼ˆä¸Šä¼ æ¿å—å›¾æ ‡ï¼‰

---

## ğŸ› é‡åˆ°é—®é¢˜ï¼Ÿ

### é—®é¢˜1ï¼šDockerå¯åŠ¨å¤±è´¥

```bash
# æŸ¥çœ‹è¯¦ç»†é”™è¯¯
docker-compose logs

# æ£€æŸ¥ç«¯å£å ç”¨
netstat -an | grep 8005

# é‡æ–°æ„å»º
docker-compose down
docker-compose build --no-cache
docker-compose up
```

### é—®é¢˜2ï¼šæ•°æ®åº“è¿æ¥å¤±è´¥

```bash
# æ£€æŸ¥æ•°æ®åº“æ˜¯å¦è¿è¡Œ
docker ps | grep postgres

# æŸ¥çœ‹æ•°æ®åº“æ—¥å¿—
docker-compose logs postgres

# é‡å¯æ•°æ®åº“
docker-compose restart postgres
```

### é—®é¢˜3ï¼šAPIè¿”å›é”™è¯¯

```bash
# æŸ¥çœ‹åº”ç”¨æ—¥å¿—
docker-compose logs -f section-service

# è¿›å…¥å®¹å™¨è°ƒè¯•
docker exec -it section-service bash
```

---

## ğŸ¯ Gitç‰ˆæœ¬æ§åˆ¶

### é¦–æ¬¡æäº¤

```bash
# 1. åˆå§‹åŒ–Gitï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰
git init

# 2. æ·»åŠ æ‰€æœ‰æ–‡ä»¶
git add .

# 3. æäº¤
git commit -m "Initial commit: æ¿å—ç®¡ç†æœåŠ¡å®Œæ•´é¡¹ç›®ç»“æ„"

# 4. å…³è”è¿œç¨‹ä»“åº“ï¼ˆæ›¿æ¢ä¸ºä½ çš„ä»“åº“åœ°å€ï¼‰
git remote add origin https://github.com/your-username/section-service.git

# 5. æ¨é€
git push -u origin main
```

### æ—¥å¸¸å¼€å‘

```bash
# 1. åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
git checkout -b feature/add-like-function

# 2. å¼€å‘...
# 3. æäº¤
git add .
git commit -m "feat: æ·»åŠ æ¿å—ç‚¹èµåŠŸèƒ½"

# 4. æ¨é€
git push origin feature/add-like-function

# 5. åœ¨GitHubä¸Šåˆ›å»ºPull Request
```

---

## ğŸ‰ æˆåŠŸæ ‡å¿—

å¦‚æœä½ çœ‹åˆ°ä»¥ä¸‹å†…å®¹ï¼Œè¯´æ˜é¡¹ç›®å¯åŠ¨æˆåŠŸï¼š

```
âœ… è®¿é—® http://localhost:8005/docs å¯ä»¥çœ‹åˆ°APIæ–‡æ¡£
âœ… è®¿é—® http://localhost:8005/health è¿”å› {"status": "healthy"}
âœ… docker-compose ps æ˜¾ç¤ºæ‰€æœ‰æœåŠ¡éƒ½æ˜¯ "Up" çŠ¶æ€
âœ… å¯ä»¥åœ¨APIæ–‡æ¡£ä¸­æˆåŠŸåˆ›å»ºå’ŒæŸ¥è¯¢æ¿å—
```

---

## ğŸ“ è·å–å¸®åŠ©

1. **æŸ¥çœ‹æ–‡æ¡£**
   - README.md
   - docs/å¼€å‘æŒ‡å—-ä½¿ç”¨Cursorå®Œæ•´å¼€å‘æµç¨‹.md

2. **ä½¿ç”¨Cursor AI**
   ```
   "å¸®æˆ‘è§£å†³è¿™ä¸ªé”™è¯¯ï¼š[ç²˜è´´é”™è¯¯ä¿¡æ¯]"
   "å¦‚ä½•å®ç°XXXåŠŸèƒ½ï¼Ÿ"
   "è¿™æ®µä»£ç æ˜¯ä»€ä¹ˆæ„æ€ï¼Ÿ"
   ```

3. **æŸ¥çœ‹æ—¥å¿—**
   ```bash
   docker-compose logs -f
   ```

---

**ç°åœ¨å°±å¼€å§‹å§ï¼è¿è¡Œ `docker-compose up -d` å¯åŠ¨ä½ çš„ç¬¬ä¸€ä¸ªå¾®æœåŠ¡ï¼** ğŸš€


# Open436 File Service - Environment Configuration Template
# 复制此文件为 .env 并修改配置

# ==================== 数据库配置 ====================
DATABASE_URL=postgresql://open436:open436@localhost:5432/open436

# ==================== Consul 配置 ====================
CONSUL_URL=http://localhost:8500
SERVICE_PORT=8007

# ==================== S3/Minio 配置 ====================
# Minio 本地开发配置
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=minioadmin
S3_SECRET_KEY=minioadmin
S3_REGION=us-east-1

# 存储桶名称
S3_BUCKET_AVATARS=open436-avatars
S3_BUCKET_POSTS=open436-posts
S3_BUCKET_ICONS=open436-icons

# 生产环境 S3 配置示例（注释掉）
# S3_ENDPOINT=https://s3.amazonaws.com
# S3_ACCESS_KEY=your-access-key
# S3_SECRET_KEY=your-secret-key
# S3_REGION=us-east-1

# ==================== 服务器配置 ====================
SERVER_HOST=127.0.0.1
SERVER_PORT=8007

# ==================== 清理任务配置 ====================
# 是否启用自动清理
CLEANUP_ENABLED=true

# 未使用文件保留天数
CLEANUP_RETENTION_DAYS=30

# 清理任务 Cron 表达式（每天凌晨 2 点）
CLEANUP_CRON=0 0 2 * * *

# ==================== 日志配置 ====================
# 日志级别: trace, debug, info, warn, error
RUST_LOG=info,file_service=debug

# ==================== 文件限制配置 ====================
# 文件大小限制（字节）
MAX_FILE_SIZE_AVATAR=2097152      # 2 MB
MAX_FILE_SIZE_POST_IMAGE=5242880  # 5 MB
MAX_FILE_SIZE_ICON=524288         # 512 KB

# 允许的文件类型
ALLOWED_IMAGE_TYPES=jpg,jpeg,png,gif,webp
ALLOWED_ICON_TYPES=svg,png



